<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCK: Contributing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="openck48x48.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCK
   &#160;<span id="projectnumber">0.0.alpha1</span>
   </div>
   <div id="projectbrief">An Open Source replacement for Bethesda&#39;s Creation Kit written in C++ in the Qt framework.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Contributing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A brief description.</p>
<p>OpenCK lives upon the contributions from the community. This is a quick guide for any person looking to help out, so all of us aren't confused about anything involved in the contributing process.</p>
<h2>1) What a contribution should do</h2>
<p>Every contribution should accomplish something, whether it be solving an issue or adding a new feature. Try to avoid changes that are so minor that they don't impact OpenCK positively whatsoever (things like the entire contribution is just fixing one minor typo in a debug message).</p>
<p>That being said, there is a time and a place for fixing very minor issues, and the fixes should be included along with more impactful changes to avoid overwhelming the maintainers with the amount of changes they have to review.</p>
<h2>2) Setting up</h2>
<p>As the README says, OpenCK is made using C++/Qt. Qt Creator should be installed from <a href="https://info.qt.io/download-qt-for-application-development">here</a>. If you have Qt Creator already installed, the version should be 5.8+. We use MSVC2015 for compiling code, and the choice of debugger is yours, albeit the vast majority of the team uses WinDbg.</p>
<p>Afterwards, just run <code>git clone</code> or use Qt's built in Git Tools via Tools-&gt;Git from the menu.</p>
<h2>3) Code style</h2>
<p>Maintaining consistency in the code is important for readability. Here is what we use:</p>
<h3>3.1) Brace placements</h3>
<p>In OpenCK, we use a modified K&amp;R style, so if something is not specifically mentioned, use K&amp;R style. This means functions have a new line before the brace. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div><div class="line">{</div><div class="line">  <span class="comment">//good</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div><div class="line">  <span class="comment">//bad</span></div><div class="line">}</div></div><!-- fragment --><p>Inside functions, control flow (if, for, while etc.) statements are One True Brace, meaning the brace should both never be omitted and be on the same line as the statement. </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (someBoolFunction()) {</div><div class="line">    doSomething(); <span class="comment">//good</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (someOtherBoolFunction())</div><div class="line">{</div><div class="line">    doSomethingElse(); <span class="comment">//bad</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (anotherBoolFunction())</div><div class="line">    doSomethingIfTrue(); <span class="comment">//bad</span></div><div class="line">doSomethingAlways();</div></div><!-- fragment --><p> Class and namespaces should have brackets on a newline like functions. </p><div class="fragment"><div class="line"><span class="keyword">namespace </span>ANamespace</div><div class="line">{</div><div class="line">    <span class="keyword">class </span>SomeClass;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">class </span>SomeClass</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> aFunctionProto();</div><div class="line">};</div></div><!-- fragment --><h3>3.2) Indents</h3>
<p>Indents are 4 spaces, and should be used every new codeblock. It should be noted that nesting any more than 3 blocks inside a function is probably a sign you should re-write that section of your program to be less nested. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> someFunction(SomeClass* ptr)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (ptr-&gt;someBoolFunction()) {</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ptr-&gt;someIntFunction(); i++) {</div><div class="line">            doSomething(i);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p> Switch statements should have case statements indented, and the code on a new line. </p><div class="fragment"><div class="line"><span class="keywordflow">switch</span> (suffix) {</div><div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div><div class="line">        doSomething(); </div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:</div><div class="line">        doSomethingElse();</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">    <span class="keywordflow">default</span>:</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">}</div></div><!-- fragment --> <h3>3.3) Spacing</h3>
<p>For control flow statements, a space should be between the statement and the brace, as well as the keyword of the statement (if) and the body of the statement (things between the parentheses). </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (someBool()) {</div><div class="line">    <span class="comment">//good</span></div><div class="line">}</div><div class="line"><span class="keywordflow">if</span>(someOtherBool()){</div><div class="line">    <span class="comment">//bad</span></div><div class="line">}</div></div><!-- fragment --><p> Do NOT add spaces in between the parentheses and the parameter when calling a function This is BAD: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> i = someIntFunction( &amp;variable );</div></div><!-- fragment --><p> Also, there should be no space after a pointers type and the asterisk denoting that it is a pointer. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span>* good;</div><div class="line"><span class="keywordtype">int</span> *bad;</div></div><!-- fragment --> <h3>3.4) Naming</h3>
<p>Variables and classes should have a descriptive, not totally long name. A temporary variable for example, should be named temp or tmp, not ThisIsATemporaryVariableName.</p>
<p>Variable &amp; Function name should be lowerCamelCase. Class &amp; Namespace names should be UpperCamelCase.</p>
<h3>3.5) Commenting</h3>
<p>Comments are important for readability, but one must avoid the trap of over commenting. If something in the code is too confusing, comment on what that specific part is doing. Every function should have a Doxygen documentation comment above it. If you have used JavaDocs before, Doxygen is very similar.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">int</span> SomeClass::someFunction(<span class="keywordtype">int</span> i, <span class="keywordtype">double</span> x)</div><div class="line">{</div><div class="line">....</div><div class="line">}</div></div><!-- fragment --><h3>3.6) UI</h3>
<p>UI is a large part of the OpenCK, so it is rather obvious that people will want to contribute to said UI.</p>
<p>We use Qt Creator's forms (.ui files) for making UI, and then have qmake and the compiler do the code generation.</p>
<p>The UI Designer exists. Use it when you can. There is no point in making something more complicated for yourself, making our codebase larger.</p>
<p>For Qt's slots system coordinating between .ui files and the code, a couple of things.</p>
<p>Push buttons should have an on_actionAction_Name_Here_triggered() slot, as they are pushed so there is no trigger on/off for them.</p>
<p>Checkboxes should have the triggered function as well, but with a bool parameter to signify whether it was checked on or off.</p>
<p>Radio buttons you might actually have to go into the code for a QActionGroup, but in most cases radio buttons are largely unnecssary.</p>
<h2>4) Pull requests</h2>
<p>For git, each pull request should have some info, so the maintainers can know some things beforehand.</p>
<p>What are the expected results of this change?</p>
<p>Is it tested?</p>
<p>If tested, did it work/achieve expected results?</p>
<p>What issues, if any, were fixed?</p>
<h2>5) Debugging</h2>
<p>So an error happened in your code, no worries, it happens to all of us.</p>
<p>This section will help you fix this.</p>
<h3>5.1) Common Errors &amp; Solutions</h3>
<p>Issue: LNK2019, unresolved external symbol.</p>
<p>Fix: Build-&gt;Clean All, Build-&gt;Run qmake, Recompile.</p>
<p>Issue: LNK2001, unresolved external symbol.</p>
<p>Fix: Try the fix for LNK2019, if not it may be caused by many reasons having to do with file scope.</p>
<p>Trying to access any static variables from outside of the file in which they are declared can result in a LNK2001. Any other causes may be found <a href="https://msdn.microsoft.com/en-us/library/f6xx1b1z.aspx">here</a>.</p>
<p>Issue: I don't know whether or not my code worked because of no output!</p>
<p>Fix: Try doing a qDebug() call from &lt;QDebug&gt; to print your variables you want to know that will indicate success. </p><div class="fragment"><div class="line">qDebug() &lt;&lt; <span class="stringliteral">&quot;Variables are: &quot;</span> &lt;&lt; variableOne &lt;&lt; variableTwo;</div></div><!-- fragment --><p> If you use a debugger, placing a breakpoint after your code and then checking the variable list will also do this.</p>
<p>Issue: My code compiled but then crashed midway through!</p>
<p>Fix: This can be caused by many things. For one, read the crash message and see if anything it says makes any sense. This will help you pinpoint the error. It may also help to insert <code>qDebug()</code> messages after each step of your code, and see where the output stops to see specifically when the crash occured (before or after a specific message). Stepping through with the debugger also helps you pinpoint the error. You should also try rerunning the program a couple times, seeing if the crash is consistent/when it will occur on the user side of things.</p>
<h2>6) Where can I start?</h2>
<p>Finding a place to start work is sometimes confusing for beginners, so a great place to find things to do is go onto the Discord for the OpenCK project, and ask around.</p>
<p>If you've read to the end, we're glad you are looking to help contribute, Happy Modding! </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 14 2018 18:39:57 for OpenCK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
